### 5/18 第一批原代种植

- 5.21 换液.
- 5.21 取出多脑区胶圈.
- 5.21 将培养基更换.
- 5.28 放上 MEA 观察细胞状态，进一步标定.

### 5/30 第二批原代种植

- 培养基污染，仅两盘可使用.

### 6/11 第三批原代种植

- 两盘多脑区，待展开多脑区实验.

### 6/28 第四批鼠到

- 15 天 Wistar 大鼠.

### 7.2 第三批原代种植

- 六盘模块化脑区，用作声音编码实验.
- 7.5 取出模块化胶圈.
- 做一组对照 加药不加药.

### 7.18 第四批原代实验

- 7.20 取出多脑区胶圈.



### 强直刺激 + 模块化实验.

> 三组对照实验 六盘细胞.

实验组：

模块化 + 强直刺激训练 + SVM 分类.

对照组：

模块化 + 强直刺激训练 + SVM 分类.

### 强直刺激 + 模块化实验范式：

1. 六个刺激位点选取：

> 在进行正式实验之前需要**先选取刺激位点**。
>
> 将同质化神经网络划**分为上下两个区域**，并将**上面区域定义为输入区域**，对输入区域中的电极施加**伪随机乱序刺激**。
>
> 每个电极位点施加双向单脉冲电压刺激，先负后正，单向电压脉冲持续时间 200 μs，刺激幅值为±1 mV，每个电极位点施加 3 次刺激，刺激之间间隔为 5s， 即 0.2 Hz。
>
> 以保证在每次刺激开始时，生物网络已从上次刺激中恢复到基线水平，以减少刺激之间的相互影响，同时不引起网络可塑性的改变。
>
> 最终选取 6 个能够稳定诱发刺激响应的电极位点作为时空刺激的刺激位点。

2. 随机时空序列生成：

> 对于上述选取的 6 个刺激位点，对其进行编号，并将其以伪随机顺序生成两个序列。
>
> 按每个序列的先后顺序对相应的刺激位点施加电刺激。

3. spon-5min：

记录 5 min 自发电。

4. test1:

单脉冲电压刺激(先负后正，单向电压脉冲持续时间 200 μs，刺激幅值为±1 mV)。

同一刺激序列不同刺激位点之间刺激间隔为 250 ms，不同刺激序列之间刺激间隔为 10 s。

2 种刺激序列以伪随机顺序施加，每种刺激序列施加 30 轮，共 60 轮刺激。

记录 5 min 自发电。

5. train1:

用高频脉冲串刺激（单个脉冲参数同上述选取刺激位点刺激参数，脉冲串的频率为 100 Hz，包含 5 个脉冲）

脉冲串之间的刺激间隔同测试一样为 250 ms，不同刺 激序列之间刺激间隔为 10 s

第一次学习训练只对一种时空刺激序列进行训练， 共施加 30 轮刺激。

记录 5 min 自发电。

6. test2:

单脉冲电压刺激(先负后正，单向电压脉冲持续时间 200 μs，刺激幅值为±1 mV)。

同一刺激序列不同刺激位点之间刺激间隔为 250 ms，不同刺激序列之间刺激间隔为 10 s。

2 种刺激序列以伪随机顺序施加，每种刺激序列施加 30 轮，共 60 轮刺激。

记录 5 min 自发电。

7. train2:

用高频脉冲串刺激（单个脉冲参数同上述选取刺激位点刺激参数，脉冲串的频率为 100 Hz，包含 5 个脉冲）

脉冲串之间的刺激间隔同测试一样为 250 ms，不同刺激序列之间刺激间隔为 10 s

第一次学习训练只对一种时空刺激序列进行训练， 共施加 30 轮刺激。

记录 5 min 自发电。



### 卡巴胆碱 + 模块化实验.

> 三组对照实验 六盘细胞.
> 每次加 3.6 - 4 ul 。
> cch 位于-20度冰箱下第二层的盒子中，标记cch，每次用完封口放回即可。
> 药物作用时间为 24h。

实验组： 

模块化 + 添加卡巴胆碱 + SVM 分类.

对照组：

模块化 + 不添加卡巴胆碱 + SVM 分类.

实验完成后需要全量换液，以消除此次加药对原代的影响



### 卡巴胆碱 + 模块化实验范式：

1. 六个刺激位点选取：

...

2. 伪随机时空序列生成：

...

3. spon-5min：

记录 5 min 自发电。

4. 加药：	

加入卡巴胆碱。

记录 5 min 自发电

5. 直接对模块化神经网络或同质化神经网络进行时空刺激序列识别能力的测试



- 测试一下遗忘的情况。

> 六个序列每个序列刺激的次数少一些就好。
>
> 五天足够遗忘。
>
> 在训练完之后保持高准确率有多久.



### 支持向量机分类：

> 时空 刺激序列包含 6 个刺激位点，每一个位点的刺激会诱发全局网络的响应，共包含 59 个电极记录位点。

1. 分别对上下两个区域的所有电极的诱发放电率进行排序， 并选取诱发放电率最高的前 16 个电极，共计 32 个电极的刺激诱发响应活动用于分类计算。

2. 对于 3 次测试（test1、test2、test3），每一时空刺激序列包含 6 个刺激，刺激间隔位 250 ms，因此提取时空刺激序列中**第一个刺激结束到之后 1.5 s 的诱发响应数据用于分类计算**，**并以 10ms 为一个时间窗统计每个时间窗内 32 个电极位点记录到的 spike 个数**。

3. 同时为了剔除刺激伪迹的影响，将时空刺激序列 内的每次刺激结束后的 10 ms 数据排除在分析之外。

4. 分别将每次 test 中每种时空刺激的前 80%作为训练集，剩余 20%作为测试集

   > 每个训练集分 别包含 24 个时空刺激序列 1 的样本或 24 个时空刺激序列 2 的样本，以及每个样 本对应的类标签。每个测试集中包含 6 个时空刺激序列 1 的样本和 6 个时空刺激 第 2 章 强直刺激训练对同质化神经网络储备池计算影响研究 21 序列 2 的样本，以及每个样本对应的类标签。


- 数据集缩放（scaling）：缩放可以避免较大数值范围内的特征支配较小数 值范围内的特征，同时可以避免较大的特征值进行特征向量内积时可能会导致的 数值问题。因此，采用最大最小值归一化方法对训练集和测试集的数据进行缩放， 首先将训练集数据的每一个特征缩放到[0,1]范围，再依据训练集数据最大最小值 对测试集数据进行缩放。



`Quesitions:`

1. 强直刺激分类准确率 93%.

2. 卡巴胆碱分类准确率 97%. 

3. 模块化分类准确率 98%.

4. **这几种方法结合怎么样算提高了准确率？因为这几个准确率都很高**

5. **文献中提到的逻辑回归分类是否需要做？**

6. **对照组与实验组选取的刺激位点可以不一样？**

   > 六个刺激位点的选择是否相同？还是各自选各自的。

7. **直接对模块化神经网络或同质化神经网络进行时空刺激序列识别能力的测试**

   > 这句话什么意思师兄？ 
   >
   > 是直接进行一次 Test 即可？
   >
   > 因为我看强直刺激训练是选了3次Test

8. **这次加药卡巴胆碱后需不需要强直刺激？**

   > 就是是否需要 加药 + 强直刺激 + 模块化的，三者结合的实验

9. ~~六个刺激位点的编号顺序是从1开始的吗？逐行编号？有点忘了。~~

10. ~~刺激参数的设置图需要跟师兄对照一下，看一下设置的参数是否正确。~~

11. ~~师兄的代码是拿那个电脑跑的，这些位置标记均需要改。~~

12. ~~最终能用的，要改的代码是那个？~~



1. ~~加卡巴胆碱的脚本需要修改.~~

2. ~~把位点选好，让脚本可以跑通.~~

3. 所以要补的实验数据其实是在模块化下的加药和强直刺激，模块化与同质化除了在构建方式上不一样，实验范式与分析方法是一模一样的.

4. 设置刺激节点，记录节点，设置两个刺激器，一个用作单位点的测试刺激，挑选诱发响应较强的六个位点
   一个用作训练刺激，五个循环，每个刺激间隔休息10ms，每个刺激脉冲 1000mV
   实验期间关闭一个设置参数，使得可以在记录期间调整刺激位点，进而施加刺激

   注意：一定要将刺激节点连接至记录节点，这样才可以记录到刺激事件，否则无法记录刺激时刻等信息



### 7/4 多脑区实验

- 刺激电极选取.

31 41 33 23 43 24 实验组

2 3 17 16 18 24

22 43 62 34 64 41 对照组

8 18 12 25 28 3



### 7/20 多脑区实验

- 刺激电极选取.

22 42 62 33 53 83 实验组同对照组

8 10 12 17 19 22





### 8/14 多脑区实验

- 刺激电极选取

71 12 42 62 23 63 

